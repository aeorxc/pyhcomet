import refineries

settings = {'Name': 'Test', 'Region':'NWE'}

refinarytemplate = {"Refineries":[{"Units":[{"UnitStreams":[],"ID":"null","Code":"ADU","Name":"Atm. Dist. Unit","UnitIndex":1,"ParentIndex":0,"ParentIndex2":0,"Color":"Khaki","Enabled":"true","Capacity":100000.0,"Rate":"null","MinRate":"null","IsCDU":"true","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"ISO","Name":"Isomerization","UnitIndex":2,"ParentIndex":0,"ParentIndex2":0,"Color":"LemonChiffon","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"ALK","Name":"Alkylation","UnitIndex":3,"ParentIndex":0,"ParentIndex2":0,"Color":"LemonChiffon","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"REF","Name":"Reformer","UnitIndex":4,"ParentIndex":0,"ParentIndex2":0,"Color":"LemonChiffon","Enabled":"true","Capacity":20000.0,"Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSNLVN","Name":"ADU Naph Desulf","UnitIndex":5,"ParentIndex":0,"ParentIndex2":0,"Color":"Bisque","Enabled":"true","Capacity":20000.0,"Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSKKER","Name":"ADU Kero Desulf","UnitIndex":6,"ParentIndex":0,"ParentIndex2":0,"Color":"Bisque","Enabled":"true","Capacity":15000.0,"Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGLGO","Name":"ADU LGO Desulf","UnitIndex":7,"ParentIndex":0,"ParentIndex2":0,"Color":"Bisque","Enabled":"true","Capacity":25000.0,"Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGHGO","Name":"ADU HGO Desulf","UnitIndex":8,"ParentIndex":0,"ParentIndex2":0,"Color":"Bisque","Enabled":"true","Capacity":25000.0,"Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"ARC","Name":"Atm Resid Cracker","UnitIndex":9,"ParentIndex":0,"ParentIndex2":0,"Color":"LightBlue","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"VDU","Name":"Vac. Dist. Unit","UnitIndex":10,"ParentIndex":0,"ParentIndex2":0,"Color":"Khaki","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGLVG","Name":"VDU LGO Desulf","UnitIndex":11,"ParentIndex":10,"ParentIndex2":0,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGHVG","Name":"VDU HGO Desulf","UnitIndex":12,"ParentIndex":10,"ParentIndex2":0,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"FCC","Name":"Cat Cracker","UnitIndex":13,"ParentIndex":0,"ParentIndex2":0,"Color":"LightBlue","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSNCCN","Name":"ARC / FCC NAPH Desulf","UnitIndex":14,"ParentIndex":13,"ParentIndex2":9,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGCLC","Name":"ARC / FCC LCO Desulf","UnitIndex":15,"ParentIndex":13,"ParentIndex2":9,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGCHC","Name":"ARC / FCC HCO Desulf","UnitIndex":16,"ParentIndex":13,"ParentIndex2":9,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"HCR","Name":"Hydrocracker","UnitIndex":17,"ParentIndex":0,"ParentIndex2":0,"Color":"LightBlue","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"VBR","Name":"Visbreaker","UnitIndex":18,"ParentIndex":0,"ParentIndex2":0,"Color":"LightBlue","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSNVNA","Name":"Visbreaker Naph Desulf","UnitIndex":19,"ParentIndex":18,"ParentIndex2":0,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGVGO","Name":"Visbreaker GO Desulf","UnitIndex":20,"ParentIndex":18,"ParentIndex2":0,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"COK","Name":"Coker","UnitIndex":21,"ParentIndex":0,"ParentIndex2":0,"Color":"LightBlue","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSNKNA","Name":"COK Naph Desulf","UnitIndex":22,"ParentIndex":21,"ParentIndex2":0,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGKLG","Name":"COK LGO Desulf","UnitIndex":23,"ParentIndex":21,"ParentIndex2":0,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DSGKHG","Name":"COK HGO Desulf","UnitIndex":24,"ParentIndex":21,"ParentIndex2":0,"Color":"Bisque","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"DAS","Name":"Deasphaltor","UnitIndex":25,"ParentIndex":0,"ParentIndex2":0,"Color":"LightSteelBlue","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"},{"UnitStreams":[],"ID":"null","Code":"ASP","Name":"Asphalt Mfg","UnitIndex":26,"ParentIndex":0,"ParentIndex2":0,"Color":"LightSteelBlue","Enabled":"false","Capacity":"null","Rate":"null","MinRate":"null","IsCDU":"false","HelpText":"null","IsCapacity":"false","IsDepend":"false","IsParameter":"false","IsRatio":"false","IsUnitFeed":"false","AltCode":"null","IsControl":"true","Location":"null","Period":"null"}],"Products":[],"BlendComponents":[],"ID":1,"Country":"null","SystemID":"null","Name":"1-Hydroskimming","Selected":"true","LiqFuel":"false","Slurry":"false","HdkToCok":"false","Recurse":"true","AllowUnused":"true","VisSplit":"false","KspActive":"false","UsePenalty":"false","HdkHnvMin":"null","HdkHnvMax":"null","HdkHnvFix":"null","HdkDscMin":"null","HdkDscMax":"null","HdkDscFix":"null","HcoCokMin":"null","HcoCokMax":"null","HcoCokFix":"null","FccDslMax":"null","RccDslMax":"null","RccCrcMax":"null","RccMbpMax":"null","MhkMagMin":"null","MhkMagMax":"null","MhkMagFix":"null","MhkMhgMin":"null","MhkMhgMax":"null","MhkMhgFix":"null","MhkMnvMin":"null","MhkMnvMax":"null","MhkMnvFix":"null","HdkHhgMin":"null","HdkHhgMax":"null","HdkHhgFix":"null","HolCnvMin":"null","HolCnvMax":"null","HolCnvFix":"null","HolCnvMinLowerLimit":"null","HolCnvMaxUpperLimit":"null","CduDenType":0,"CduAsgMin":"null","CduAsgMax":"null","CduAsuMin":"null","CduAsuMax":"null","CduTanMin":"null","CduTanMax":"null","MogasRatioSelected":"false","MogasRatioMin":"null","MogasRatioMax":"null","MogasRatioFix":"null","OverrideLimits":"false","LimitType":0,"SortOrder":0,"HydH2aMin":"null","HydH2aMax":"null","HydH2aFix":"null","HydH2bMin":"null","HydH2bMax":"null","HydH2bFix":"null","HydH2cMin":"null","HydH2cMax":"null","HydH2cFix":"null","HydH2dMin":"null","HydH2dMax":"null","HydH2dFix":"null","UtlStmCost":"null","UtlStmMin":"null","UtlStmMax":"null","UtlStmFix":"null","UtlCcuCost":"null","UtlCcuMin":"null","UtlCcuMax":"null","UtlCcuFix":"null","UtlMuwCost":"null","UtlMuwMin":"null","UtlMuwMax":"null","UtlMuwFix":"null","UtlPwrCost":"null","UtlPwrMin":"null","UtlPwrMax":"null","UtlPwrFix":"null","UtlPgnCost":"null","UtlPgnMin":"null","UtlPgnMax":"null","UtlPgnFix":"null"}],"IsAcctWide":"false","IsSelected":"false","ValueUnused":"false","Unused":80.0,"SelectedRefineriesCount":1,"ID":72193,"Name": settings['Name']}

def create_and_post_ref_config():
    refineries.post_refinary_config(refinarytemplate, settings['Region'])
    x = refineries.get_refinary_configs('NWE')
    Name = settings['Name']
    refid = int(x.query('Name == @Name')['ID'].iloc[0])
    return refid